<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="author" content="Alexander Shatalov">
    <link rel="stylesheet" href="../style.css">
	<title>Alexander Shatalov > JavaScript 1 > Lesson 2 > Extra Task 3 + 4</title>
</head>
<body id="mainBody">

	<script>

		var level=0,
			i=1,
			result='',
			novel='',

			matrix = [
				// Первое значение - Количество фраз в условии
				// Второе значение - Фраза
				// Третье значение - Переход на номер условия, после выбора фразы

				// level=0;
				[1,
					'Земля', 1],

				// level=1;
				[4,
					'сгорает, или замерзает или падает на Солнце', 2,
					'ученые', 3,
					'подвергается нашествию', 4,
					'сталкивается с огромной кометой', 5],

				// level=2;
				[2,
					'и все гибнут.', 25,
					'и почти все гибнут.', 25],

				// level=3;
				[2,
					'создают', 6,
					'открывают', 6],

				// level=4;
				[2,
					'маленьких', 7,
					'огромных', 7],

				// level=5;
				[3,
					'и разрушается.', 25,
					'и не разрушается, но', 9,
					'и остается невредимой.', 25],

				// level=6;
				[2,
					'маленьких', 8,
					'огромных', 8],

				// level=7;
				[1,
					'марсиан, селенитов, внегалактических чудовищ', 8],

				// level=8;
				[5,
					'насекомых', 10,
					'пресмыкающихся', 10,
					'роботов', 10,
					'внеземных существ', 10,
					'различных странных предметов', 10],

				// level=9;
				[2,
					'все гибнут.', 25,
					'почти все гибнут.', 25],

				// level=10;
				[1,
					'которые', 11],

				// level=11;
				[6,
					'желают наших женщин', 12,
					'ведут себя дружелюбно.', 13,
					'ведут себя дружелюбно, но их никто не понимает', 13,
					'не понимают нас', 13,
					'отлично понимают нас', 13,
					'воспринимают нас только как пищу', 14],

				// level=12;
				[2,
					'похищают их и исчезают.', 25,
					'и являются', 15],

				// level=13;
				[1,
					'и являются', 15],

				// level=14;
				[1,
					'и съедают нас.', 25,
					'и являются', 15],

				// level=15;
				[2,
					'радиоактивными', 16,
					'нерадиоактивными', 16],

				// level=16;
				[1,
					'и', 17],

				// level=17;
				[2,
					'могут быть уничтожены', 18,
					'не могут быть уничтожены', 19],

				// level=18;
				[3,
					'толпой парней с факелами.', 25,
					'сухопутной армией, морским флотом, авиацией, морской пехотой и (или) войсками береговой охраны.', 25,
					'атомной бомбой.', 25],

				// level=19;
				[3,
					'атомной бомбой', 20,
					'сухопутной армией, морским флотом, авиацией, морской пехотой и (или) войсками береговой охраны', 20,
					'толпой парней с факелами', 20],

				// level=20;
				[6,
					'но ученые изобретают новое оружие', 21,
					'но', 22,
					'но они умирают от черной оспы.', 25,
					'и поэтому они убивают нас.', 25,
					'и поэтому они устанавливают систему доброжелательной диктатуры.', 25,
					'и поэтому они съедают нас.', 25],

				// level=21;
				[3,
					'которое отказывает', 20,
					'которое их убивает.', 25,
					'которое превращает их в мерзкие глыбы.', 25],

				// level=22;
				[3,
					'один хитрый парень убеждает их, что люди "ОК"', 23,
					'священник рассказывает им о Боге', 23,
					'влюбляются в красивую девушку', 24],

				// level=23;
				[3,
					'и они умирают.', 25,
					'и они улетают.', 25,
					'и они превращаются в мерзкие глыбы', 25],

				// level=24;
				[4,
					'женятся и живут долго и счасливо.', 25,
					'и они умирают.', 25,
					'и они улетают.', 25,
					'и они превращаются в мерзкие глыбы', 25],

				// level=25;
				[1,
					'Конец. Попробуем другой сценарий?', 777]

			];


		function startScript(level, lastLevel, lastText) {
			// Проверяем старт\конец
			if (level==777) {
				document.getElementById('mainBody').style.background = "#ffffff url(ex-2_3-4_wallpaper.jpg) center 0px no-repeat fixed";
				result=''
				novel='';
				level=0;
			} else if (level>0) {
				// Запись выбранного текста в переменную
				novel+='<h3>' + matrix[lastLevel][lastText] + '</h3>';
			}

			// Формирование кнопки
			result = '<form action="" id="form" onsubmit="return false;" style="margin-bottom:100px;">';

			for (i=1; i<=(matrix[level][0]*2); i+=2) {
				result+='<button onclick="startScript(' + matrix[level][i+1] + ',' + level + ',' + i + ');">' + matrix[level][i] + '</button> ';
			}

			result+='</form>';

			// Вывод на страницу
			document.getElementById('pasteResult').innerHTML = novel + result;
		}

	</script>

	<div id="textTask">
		<h2>Дополнительное домашнее задание №2</h2>

		<hr>
		<h3>Задача 3 + 4</h3>
		<p>
			Реализовать данную <a href="ex-2_3-4_schema.jpg" target="_blank">блок-схему</a>. Задача - код при этом должен быть читабельным. В качестве результата - вывести полный текст эпопеи.
		</p>

		<p>
			Со звёздочкой.
			<br>Предисловие
			<br>Вставить текст/HTML внутрь тега, найденного с помощью document.getElementById, можно с помощью свойства innerHTML (например var statusTag = document.getElementById("status"); statusTag.innerHTML = "Добро пожаловать в нашу программу").
			<br>Задача:
			<br>Та же, что и в п.3
			<br>Сделать одно текстовое поле на странице и одну кнопку. Над кнопкой находится подсказка пользователю, какие варианты он может ввести в текстовое поле.
			<br>При нажатии на кнопку (атрибут onclick, например &lt;button onclick="myfunction()"&gt;), программа запоминает этап, на котором находился пользователь и выводит новый список подсказок над полем.
			<br>В качестве результата - вывести под текстовым полем текст эпопеи.
		</p>
		<p>
			<a href="javascript:void(0);" onclick="startScript(777,0,1);">Запустить выполнение задачи</a>
		</p>
		<hr>
	</div>

	<p>
		<div id="pasteResult" style="text-align: center;">
		</div>
	</p>

</body>
</html>